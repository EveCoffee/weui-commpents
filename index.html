<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Title</title>
    <link rel="stylesheet" href="node_modules/weui/dist/style/weui.css">
    <style>
        .a{
            transition: all 0.5s;
        }
        .weui_mask{
            z-index: 3;
        }
    </style>
</head>
<body>

<br><br><br><br>
<div class="bd spacing">
    <a href="javascript:;" class="weui_btn weui_btn_default" onclick="showConfirm()">显示Confirm框（询问框）</a>
    <a href="javascript:;" class="weui_btn weui_btn_default" onclick="showAlert()">显示Alert(确认框)</a>
    <a href="javascript:;" class="weui_btn weui_btn_default" onclick="showSuccess()">显示Success框(已完成)</a>
    <a href="javascript:;" class="weui_btn weui_btn_default" onclick="showLoading()">显示Loading框(正在加载)</a>
    <a href="javascript:;" class="weui_btn weui_btn_default" onclick="showActionSheet()">显示ActionSheet(不带取消按钮)</a>
    <a href="javascript:;" class="weui_btn weui_btn_default" onclick="showActionSheet(true)">显示ActionSheet(带取消按钮)</a>
</div>

<div id="weui-actionsheet-test2">
    <div class="weui_actionsheet_menu">
        <div class="weui_actionsheet_cell">示例菜单</div>
        <div class="weui_actionsheet_cell">示例菜单</div>
        <div class="weui_actionsheet_cell">示例菜单</div>
        <div class="weui_actionsheet_cell">示例菜单</div>
    </div>
</div>

<div id="weui-actionsheet-test">
    <div class="weui_panel weui_panel_access">
        <div class="weui_panel_hd">图文组合列表</div>
        <div class="weui_panel_bd">
            <a href="javascript:void(0);" class="weui_media_box weui_media_appmsg">
                <div class="weui_media_hd">
                    <img class="weui_media_appmsg_thumb" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAMAAAAOusbgAAAAeFBMVEUAwAD///+U5ZTc9twOww7G8MYwzDCH4YcfyR9x23Hw+/DY9dhm2WZG0kbT9NP0/PTL8sux7LFe115T1VM+zz7i+OIXxhes6qxr2mvA8MCe6J6M4oz6/frr+us5zjn2/fa67rqB4IF13XWn6ad83nxa1loqyirn+eccHxx4AAAC/klEQVRo3u2W2ZKiQBBF8wpCNSCyLwri7v//4bRIFVXoTBBB+DAReV5sG6lTXDITiGEYhmEYhmEYhmEYhmEY5v9i5fsZGRx9PyGDne8f6K9cfd+mKXe1yNG/0CcqYE86AkBMBh66f20deBc7wA/1WFiTwvSEpBMA2JJOBsSLxe/4QEEaJRrASP8EVF8Q74GbmevKg0saa0B8QbwBdjRyADYxIhqxAZ++IKYtciPXLQVG+imw+oo4Bu56rjEJ4GYsvPmKOAB+xlz7L5aevqUXuePWVhvWJ4eWiwUQ67mK51qPj4dFDMlRLBZTqF3SDvmr4BwtkECu5gHWPkmDfQh02WLxXuvbvC8ku8F57GsI5e0CmUwLz1kq3kD17R1In5816rGvQ5VMk5FEtIiWislTffuDpl/k/PzscdQsv8r9qWq4LRWX6tQYtTxvI3XyrwdyQxChXioOngH3dLgOFjk0all56XRi/wDFQrGQU3Os5t0wJu1GNtNKHdPqYaGYQuRDfbfDf26AGLYSyGS3ZAK4S8XuoAlxGSdYMKwqZKM9XJMtyqXi7HX/CiAZS6d8bSVUz5J36mEMFDTlAFQzxOT1dzLRljjB6+++ejFqka+mXIe6F59mw22OuOw1F4T6lg/9VjL1rLDoI9Xzl1MSYDNHnPQnt3D1EE7PrXjye/3pVpr1Z45hMUdcACc5NVQI0bOdS1WA0wuz73e7/5TNqBPhQXPEFGJNV2zNqWI7QKBd2Gn6AiBko02zuAOXeWIXjV0jNqdKegaE/kJQ6Bfs4aju04lMLkA2T5wBSYPKDGF3RKhFYEa6A1L1LG2yacmsaZ6YPOSAMKNsO+N5dNTfkc5Aqe26uxHpx7ZirvgCwJpWq/lmX1hA7LyabQ34tt5RiJKXSwQ+0KU0V5xg+hZrd4Bn1n4EID+WkQdgLfRNtvil9SPfwy+WQ7PFBWQz6dGWZBLkeJFXZGCfLUjCgGgqXo5TuSu3cugdcTv/HjqnBTEMwzAMwzAMwzAMwzAMw/zf/AFbXiOA6frlMAAAAABJRU5ErkJggg==" alt="">
                </div>
                <div class="weui_media_bd">
                    <h4 class="weui_media_title">标题一</h4>
                    <p class="weui_media_desc">由各种物质组成的巨型球状天体，叫做星球。星球有一定的形状，有自己的运行轨道。</p>
                </div>
            </a>
            <a href="javascript:void(0);" class="weui_media_box weui_media_appmsg">
                <div class="weui_media_hd">
                    <img class="weui_media_appmsg_thumb" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAMAAAAOusbgAAAAeFBMVEUAwAD///+U5ZTc9twOww7G8MYwzDCH4YcfyR9x23Hw+/DY9dhm2WZG0kbT9NP0/PTL8sux7LFe115T1VM+zz7i+OIXxhes6qxr2mvA8MCe6J6M4oz6/frr+us5zjn2/fa67rqB4IF13XWn6ad83nxa1loqyirn+eccHxx4AAAC/klEQVRo3u2W2ZKiQBBF8wpCNSCyLwri7v//4bRIFVXoTBBB+DAReV5sG6lTXDITiGEYhmEYhmEYhmEYhmEY5v9i5fsZGRx9PyGDne8f6K9cfd+mKXe1yNG/0CcqYE86AkBMBh66f20deBc7wA/1WFiTwvSEpBMA2JJOBsSLxe/4QEEaJRrASP8EVF8Q74GbmevKg0saa0B8QbwBdjRyADYxIhqxAZ++IKYtciPXLQVG+imw+oo4Bu56rjEJ4GYsvPmKOAB+xlz7L5aevqUXuePWVhvWJ4eWiwUQ67mK51qPj4dFDMlRLBZTqF3SDvmr4BwtkECu5gHWPkmDfQh02WLxXuvbvC8ku8F57GsI5e0CmUwLz1kq3kD17R1In5816rGvQ5VMk5FEtIiWislTffuDpl/k/PzscdQsv8r9qWq4LRWX6tQYtTxvI3XyrwdyQxChXioOngH3dLgOFjk0all56XRi/wDFQrGQU3Os5t0wJu1GNtNKHdPqYaGYQuRDfbfDf26AGLYSyGS3ZAK4S8XuoAlxGSdYMKwqZKM9XJMtyqXi7HX/CiAZS6d8bSVUz5J36mEMFDTlAFQzxOT1dzLRljjB6+++ejFqka+mXIe6F59mw22OuOw1F4T6lg/9VjL1rLDoI9Xzl1MSYDNHnPQnt3D1EE7PrXjye/3pVpr1Z45hMUdcACc5NVQI0bOdS1WA0wuz73e7/5TNqBPhQXPEFGJNV2zNqWI7QKBd2Gn6AiBko02zuAOXeWIXjV0jNqdKegaE/kJQ6Bfs4aju04lMLkA2T5wBSYPKDGF3RKhFYEa6A1L1LG2yacmsaZ6YPOSAMKNsO+N5dNTfkc5Aqe26uxHpx7ZirvgCwJpWq/lmX1hA7LyabQ34tt5RiJKXSwQ+0KU0V5xg+hZrd4Bn1n4EID+WkQdgLfRNtvil9SPfwy+WQ7PFBWQz6dGWZBLkeJFXZGCfLUjCgGgqXo5TuSu3cugdcTv/HjqnBTEMwzAMwzAMwzAMwzAMw/zf/AFbXiOA6frlMAAAAABJRU5ErkJggg==" alt="">
                </div>
                <div class="weui_media_bd">
                    <h4 class="weui_media_title">标题二</h4>
                    <p class="weui_media_desc">由各种物质组成的巨型球状天体，叫做星球。星球有一定的形状，有自己的运行轨道。</p>
                </div>
            </a>
        </div>
        <a class="weui_panel_ft" href="javascript:void(0);">查看更多</a>
    </div>
</div>




<!--
<div class="bd" id="search">
    &lt;!&ndash;<a href="javascript:;" class="weui_btn weui_btn_primary">点击展现searchBar</a>&ndash;&gt;
    <div class="weui_search_bar " id="search_bar">
        <form class="weui_search_outer">
            <div class="weui_search_inner">
                <i class="weui_icon_search"></i>
                <input type="search" class="weui_search_input" id="search_input" placeholder="搜索" required="">
                <a href="javascript:" class="weui_icon_clear" id="search_clear"></a>
            </div>
            <label for="search_input" class="weui_search_text" id="search_text">
                <i class="weui_icon_search"></i>
                <span>搜索</span>
            </label>
        </form>
        <a href="javascript:" class="weui_search_cancel" id="search_cancel">取消</a>
    </div>
    <div class="weui_cells weui_cells_access search_show" id="search_show">

        <div class="weui_cell">
            <div class="weui_cell_bd weui_cell_primary">
                <p>实时搜索文本</p>
            </div>
        </div>
        <div class="weui_cell">
            <div class="weui_cell_bd weui_cell_primary">
                <p>实时搜索文本</p>
            </div>
        </div>
        <div class="weui_cell">
            <div class="weui_cell_bd weui_cell_primary">
                <p>实时搜索文本</p>
            </div>
        </div>
    </div>
</div>-->


<script src="node_modules/jquery/dist/jquery.min.js"></script>
<script src="js/weui-coffee.js"></script>
<script>
    $(function () {
        'use strict';



        $.fn.WeActionSheet = function () {
            var _this = $(this);

        };


        function SearchSync(elementId){
            if(!elementId){
                throw "必须传递一个id进来， 否则罢工";
            }

            var _this = this;

            this.self = $("#"+elementId);
            this.searchBar = this.self.find(".weui_search_bar");
            this.searchInput = this.searchBar.find("input");
            this.form = this.searchBar.find("form");
            this.searchTips = this.self.find("#search_show");

            this.searchTipList = [
                "实时搜索文本1",
                "实时搜索文本2",
                "实时搜索文本3",
                "实时搜索文本4"
            ];

            //选中提示列表
            this.searchTips.on("click", function (event) {
                console.log(event);
            });

            //输入框内容变动
            this.searchInput.on("keyup", function (event) {
                console.log(event);
                var _input = this;

                _this.searchTipList = [];

                if(_input.value == "") {
                    _this.render();
                    return;
                }

                var mailList = [
                        "@qq.com",
                        "@163.com",
                        "@gmail.com",
                        "@sina.com",
                        "@sina.cn",
                        "@live.com",
                        "@outlook.com"
                ];

                mailList.forEach(function (ele) {
                    _this.searchTipList.push(_input.value+ele);
                });

                _this.render();
            }).on("focus", function (event) {
                console.log(event);
                _this.searchBar.addClass("weui_search_focusing");
                _this.searchTips.show();
            }).on("blur", function () {
                _this.searchBar.removeClass("weui_search_focusing");
                _this.searchTips.hide();
            });

            this.render();
        }

        SearchSync.prototype = {

            render: function () {
                var _this = this;

                this.searchTips.empty();
                this.searchTipList.forEach(function (str, index) {

                    var e = `
                        <div class="weui_cell">
                                    <div class="weui_cell_bd weui_cell_primary">
                                        <p>${str}</p>
                                    </div>
                                </div>
                    `;

                    _this.searchTips.append(e);
                });
            }
        };

        var search = new SearchSync("search");


    });

    /*
     var a = new WeAlert("提示", "帐号或者密码错误");
     a.ok(function () {
     console.log("你是一个信息框， 点击了确定");
     });*/

    //var toast = new WeToast();

    /*
     var loading = new WeLoading();
     setTimeout(function () {
     loading.hide();
     }, 3000);*/
    function showConfirm(){
        var note = new WeConfirm("提示", "我是一个对话框");
        note.ok(function () {
            console.info("HaHa! 我知道你点击了确定");
        }).cancel(function () {
            console.warn("HaHa! 我知道你点击了取消");
        });
    }

    function showAlert(){
        var a = new WeAlert("提示", "帐号或者密码错误");
        a.ok(function () {
            console.log("你是一个信息框， 点击了确定");
        });
    }

    function showSuccess(){
        var toast = new WeToast();
    }

    function showLoading(){
        var loading = new WeLoading();
        setTimeout(function () {
            loading.hide();
        }, 3000);
    }

    // ActionSheet 只能初始化一次， 之后dom会被移除，无法再次创建
    var sheet = new ActionSheet("#weui-actionsheet-test2", true);
    var sheet2 = new ActionSheet("#weui-actionsheet-test");
    
    function showActionSheet(enableCancelBtn){
        enableCancelBtn ? sheet.show() : sheet2.show();
    }

</script>

</body>
</html>